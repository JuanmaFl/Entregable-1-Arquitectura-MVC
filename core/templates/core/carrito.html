{% extends 'base.html' %}
{% block title %}Carrito de Compras{% endblock %}

{% block content %}
<h2 class="section-title">Tu Carrito</h2>

{% if productos %}
<table class="carrito-tabla">
    <thead>
        <tr>
            <th>Producto</th>
            <th>Cantidad</th>
            <th>Subtotal</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        {% for item in productos %}
        <tr>
            <td>{{ item.producto.nombre }}</td>
            <td>{{ item.cantidad }}</td>
            <td>${{ item.subtotal }}</td>
            <td><a href="{% url 'eliminar_carrito' item.producto.id %}" class="btn btn-delete">Eliminar</a></td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<h3>Total: ${{ total }}</h3>
{% else %}
<p>No hay productos en el carrito.</p>
{% endif %}

<a href="{% url 'catalogo' %}" class="btn">Volver al catálogo</a>

<style>
    .carrito-tabla {
        width: 100%;
        border-collapse: collapse;
        margin-top: 2rem;
    }

        .carrito-tabla th, .carrito-tabla td {
            border: 1px solid #ccc;
            padding: 0.75rem;
            text-align: center;
        }

    .btn-delete {
        background-color: #e74c3c;
        color: white;
        padding: 0.4rem 0.8rem;
    }
</style>
{% endblock %}
